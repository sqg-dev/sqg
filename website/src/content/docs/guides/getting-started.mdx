---
title: Getting Started
description: Install SQG and generate your first type-safe database code
---

import { Steps } from '@astrojs/starlight/components';
import CodeExample from '@components/CodeExample.astro';

This guide will walk you through installing SQG and generating your first type-safe database access code.

## Prerequisites

Before you begin, ensure you have:

- **Node.js 18** or later
- **pnpm** (recommended) or npm/yarn

## Installation

### Global installation (recommended)

```bash
# pnpm (recommended)
pnpm add -g @sqg/sqg
pnpm approve-builds -g  # needed for native dependencies

# npm
npm install -g @sqg/sqg

# yarn
yarn global add @sqg/sqg
```

### Project-local installation

```bash
# pnpm
pnpm add -D @sqg/sqg

# npm
npm install --save-dev @sqg/sqg

# yarn
yarn add -D @sqg/sqg
```

### From source

```bash
git clone https://github.com/sqg-dev/sqg.git
cd sqg/sqg
pnpm install
pnpm build
pnpm link --global
```

## Quick Start

### Option A: Initialize a New Project (Recommended)

The fastest way to get started is using the `sqg init` command:

```bash
# Create a new project with SQLite (default)
sqg init

# Or specify a different database engine
sqg init --engine duckdb

# Specify both engine and generator
sqg init --engine sqlite --generator typescript/better-sqlite3
```

This creates:
- `sqg.yaml` - Project configuration
- `queries.sql` - Example SQL file with migrations and queries
- `./generated/` - Output directory for generated code

Then run:
```bash
sqg sqg.yaml
```

### Option B: Manual Setup

<Steps>

1. **Create your SQL file**

   Create a file called `queries.sql`:

   <CodeExample id="getting-started-full" />

2. **Create a project configuration**

   Create a file called `sqg.yaml`:

   ```yaml
   version: 1
   name: my-app

   sql:
     - engine: sqlite
       files:
         - queries.sql
       gen:
         - generator: typescript/better-sqlite3
           output: ./src/generated/
   ```

3. **Run the generator**

   ```bash
   sqg sqg.yaml
   ```

   This creates `./src/generated/my-app.ts` with fully typed query functions.

4. **Use the generated code**

   ```typescript
   import Database from 'better-sqlite3';
   import { MyApp } from './generated/my-app';

   // Initialize database
   const db = new Database('app.db');

   // Run migrations
   for (const migration of MyApp.getMigrations()) {
     db.exec(migration);
   }

   // Create query instance
   const queries = new MyApp(db);

   // Use typed queries
   queries.createUser('Alice', 'alice@example.com');
   queries.createUser('Bob', 'bob@example.com');

   const users = queries.allUsers();
   console.log(users);
   // [{ id: 1, name: 'Alice', email: 'alice@example.com' }, ...]

   const user = queries.getUser(1);
   console.log(user?.name); // 'Alice'
   ```

</Steps>

## Project Configuration

The `sqg.yaml` file defines your project structure:

```yaml
version: 1          # Config version (always 1)
name: my-project    # Project name (used for class names)

sql:
  - engine: sqlite  # Database engine: sqlite, duckdb, or postgres
    files:
      - queries.sql # SQL files to process
      - users.sql
    gen:
      - generator: typescript/better-sqlite3
        output: ./src/db/

      - generator: java/jdbc
        output: ./java/src/main/java/db/
        config:
          package: com.myapp.db
```

### Available Generators

| Generator | Description | Documentation |
|-----------|-------------|---------------|
| `typescript/better-sqlite3` | TypeScript for SQLite (sync API) | [TypeScript + SQLite](/generators/typescript-sqlite/) |
| `typescript/duckdb` | TypeScript for DuckDB (async API) | [TypeScript + DuckDB](/generators/typescript-duckdb/) |
| `java/jdbc` | Java with JDBC (any database) | [Java + JDBC](/generators/java-jdbc/) |
| `java/duckdb-arrow` | Java with Arrow API (high-performance) | [Java + DuckDB Arrow](/generators/java-duckdb-arrow/) |

See individual generator documentation for configuration options, type mappings, and usage examples.

## Database Engines

| Engine | Description | TypeScript | Java |
|--------|-------------|------------|------|
| `sqlite` | Embedded, no server required | [typescript/better-sqlite3](/generators/typescript-sqlite/) | [java/jdbc](/generators/java-jdbc/) |
| `duckdb` | Analytics, complex types | [typescript/duckdb](/generators/typescript-duckdb/) | [java/jdbc](/generators/java-jdbc/), [java/duckdb-arrow](/generators/java-duckdb-arrow/) |
| `postgres` | Full-featured SQL server | â€” | [java/jdbc](/generators/java-jdbc/) |

**Notes:**
- SQLite and DuckDB use in-memory databases for type introspection (no server needed)
- PostgreSQL requires a running server; set `SQG_POSTGRES_URL` environment variable
- See individual generator pages for installation and usage details

## Development Workflow with DBeaver

SQG's SQL syntax is **designed to be compatible with [DBeaver](https://dbeaver.io)**, the popular open-source database IDE. The `@set` variable syntax is a DBeaver feature, which means you can use DBeaver as your primary SQL development environment.

### Why DBeaver?

DBeaver natively supports the `@set` variable syntax that SQG uses. This means you can:

- Execute queries with parameters directly in DBeaver
- Modify parameter values and re-run to test different scenarios
- Get autocomplete for table and column names
- View query execution plans for optimization
- Debug queries before generating code

### Recommended Workflow

1. **Install [DBeaver](https://dbeaver.io)** (free, cross-platform)

2. **Connect DBeaver to your database** (SQLite file, DuckDB, or PostgreSQL server)

3. **Create your SQL file** with migrations and queries

4. **Develop queries interactively in DBeaver:**
   - Run migrations to set up your schema
   - Execute queries and verify results
   - Modify `@set` values to test edge cases

5. **Run SQG to generate code** when your queries are ready

### Testing Parameters in DBeaver

The `@set` declarations work as variable definitions in DBeaver. Modify parameter values and re-run queries to test different scenarios:

```sql
-- QUERY find_users
@set name = 'Alice'        -- Change this value in DBeaver to test
@set min_age = 25          -- different scenarios
SELECT * FROM users WHERE name = ${name} AND age >= ${min_age};
```

Select the entire block (including `@set` lines) and execute - DBeaver will substitute the variables automatically.

## SQL Syntax Overview

SQG uses comment annotations to define queries:

```sql
-- MIGRATE 1              -- Schema migrations (numbered)
-- TESTDATA               -- Test data for type introspection
-- QUERY name             -- Select queries (returns rows)
-- QUERY name :one        -- Returns single row or undefined
-- QUERY name :pluck      -- Returns array of first column values
-- EXEC name              -- Execute statements (INSERT/UPDATE/DELETE)
```

Parameters use `@set` to define and `${name}` to reference:

```sql
-- QUERY find_user :one
@set id = 1
SELECT * FROM users WHERE id = ${id};
```

See [SQL Syntax Reference](/guides/sql-syntax/) for complete documentation including complex types, modifiers, and best practices.

## CLI Reference

```bash
sqg <config-file>           # Generate code from config
sqg --validate <config>     # Validate without generating
sqg --format json <config>  # Output as JSON
sqg init                    # Initialize new project
sqg syntax                  # Show SQL syntax reference
sqg --help                  # Show help
```

See the [CLI Reference](/reference/cli/) for complete documentation including all commands, options, JSON output format, and error codes.

## Next Steps

- **Generators:**
  - [TypeScript + SQLite](/generators/typescript-sqlite/) - Sync API with better-sqlite3
  - [TypeScript + DuckDB](/generators/typescript-duckdb/) - Async API with complex types
  - [Java + JDBC](/generators/java-jdbc/) - Standard JDBC for any database
  - [Java + DuckDB Arrow](/generators/java-duckdb-arrow/) - High-performance Arrow API
- [SQL Syntax Reference](/guides/sql-syntax/) - Complete annotation reference
- [CLI Reference](/reference/cli/) - Full command-line documentation
- [Playground](/playground/) - Try SQG in your browser
- [FAQ](/guides/faq/) - Common questions and troubleshooting
