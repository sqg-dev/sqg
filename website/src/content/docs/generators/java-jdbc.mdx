---
title: Java + JDBC
description: Generate type-safe Java code using standard JDBC for any database
---

import { Steps } from '@astrojs/starlight/components';
import CodeExample from '@components/CodeExample.astro';
import GeneratedCode from '@components/GeneratedCode.astro';

Generate Java code using standard JDBC APIs. Works with any JDBC-compatible database including SQLite, DuckDB, PostgreSQL, MySQL, and more.

## Overview

| Property | Value |
|----------|-------|
| Generator | `java/sqlite`, `java/duckdb`, or `java/postgres` |
| Runtime | JVM (Java 17+) |
| API Style | Synchronous |
| Driver | Any JDBC driver |

## Installation

Add SQG to your build process and include the appropriate JDBC driver:

```bash
# Install SQG globally
pnpm add -g @sqg/sqg
```

### Gradle Dependencies

```groovy
// build.gradle

// SQLite
implementation 'org.xerial:sqlite-jdbc:3.51.1.0'

// DuckDB
implementation 'org.duckdb:duckdb_jdbc:1.4.2.0'

// PostgreSQL
implementation 'org.postgresql:postgresql:42.7.0'
```

### Maven Dependencies

```xml
<!-- pom.xml -->

<!-- SQLite -->
<dependency>
    <groupId>org.xerial</groupId>
    <artifactId>sqlite-jdbc</artifactId>
    <version>3.51.1.0</version>
</dependency>

<!-- DuckDB -->
<dependency>
    <groupId>org.duckdb</groupId>
    <artifactId>duckdb_jdbc</artifactId>
    <version>1.4.2.0</version>
</dependency>

<!-- PostgreSQL -->
<dependency>
    <groupId>org.postgresql</groupId>
    <artifactId>postgresql</artifactId>
    <version>42.7.0</version>
</dependency>
```

## Example Configuration

```yaml
# sqg.yaml
version: 1
name: my-app

sql:
  - files:
      - queries.sql
    gen:
      - generator: java/sqlite  # or: java/duckdb, java/postgres
        output: ./src/main/java/com/myapp/db/
        config:
          package: com.myapp.db
```

The `config.package` option specifies the Java package name for generated classes.

## Quick Start

<Steps>

1. **Write your SQL**

   <CodeExample id="java-jdbc-full" />

2. **Generate code**

   ```bash
   sqg sqg.yaml
   ```

3. **Use the generated code**

   ```java
   import com.myapp.db.MyApp;
   import java.sql.Connection;
   import java.sql.DriverManager;

   public class Main {
       public static void main(String[] args) throws Exception {
           // Connect to database
           Connection conn = DriverManager.getConnection("jdbc:sqlite:app.db");

           // Run migrations
           for (String migration : MyApp.getMigrations()) {
               conn.createStatement().execute(migration);
           }

           // Create query instance
           MyApp queries = new MyApp(conn);

           // Insert data
           queries.createUser("Alice", "alice@example.com");
           queries.createUser("Bob", "bob@example.com");

           // Query data
           for (MyApp.AllUsersRow user : queries.allUsers()) {
               System.out.println(user.name() + ": " + user.email());
           }

           // Get single row
           MyApp.GetUserRow user = queries.getUser(1);
           if (user != null) {
               System.out.println("Found: " + user.name());
           }

           // Update data
           queries.updateUser(1, "Alice Smith", "alice.smith@example.com");

           // Delete data
           queries.deleteUser(2);

           conn.close();
       }
   }
   ```

</Steps>

## Generated Code Structure

The generator creates a single Java file with:

- **Record types** for each query result
- **A class** with methods for each query/exec
- **Static `getMigrations()`** method returning migration SQL strings

<GeneratedCode id="java-jdbc-full" title="Generated Java"  startMatch="allUsers()" endMatch="GetUserResult"/>




## Type Mapping

| SQL Type | Java Type |
|----------|-----------|
| `INTEGER`, `INT` | `Integer` |
| `BIGINT` | `Long` |
| `REAL`, `DOUBLE` | `Double` |
| `FLOAT` | `Float` |
| `TEXT`, `VARCHAR` | `String` |
| `BLOB` | `byte[]` |
| `BOOLEAN` | `Boolean` |
| `DATE` | `LocalDate` |
| `TIMESTAMP` | `LocalDateTime` |
| `TIME` | `LocalTime` |
| `DECIMAL`, `NUMERIC` | `BigDecimal` |
| `UUID` | `UUID` |

All types are nullable (using wrapper classes).

